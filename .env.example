# ============================================
# License Server 环境变量配置模板
# ============================================
# 使用方法：
#   1. 复制此文件为 .env
#   2. 修改下面的配置值
#   3. 运行一键安装脚本或 docker compose up -d
# ============================================

# ===== 服务器配置 =====
# 服务器公网 IP 地址（必填）
SERVER_IP=YOUR_SERVER_IP

# Docker 镜像标签（默认 main，可设置为 v1.2.0 等）
IMAGE_TAG=main

# 域名（可选，用于 Let's Encrypt 证书）
DOMAIN=

# 服务端口
BACKEND_PORT=8080
HTTP_PORT=80
HTTPS_PORT=443

# 兼容旧配置
FRONTEND_PORT=80

# ===== SSL/HTTPS 配置 =====
# SSL 模式: self-signed / letsencrypt / http
SSL_MODE=self-signed

# Let's Encrypt 邮箱（用于证书到期提醒）
SSL_EMAIL=

# ===== MySQL 配置 =====
# MySQL root 密码（强密码，至少12位，包含大小写字母、数字、特殊字符）
MYSQL_ROOT_PASSWORD=CHANGE_ME_Root@2024!

# 应用数据库配置
MYSQL_DATABASE=license_server
MYSQL_USER=license_admin
MYSQL_PASSWORD=CHANGE_ME_Db@2024!
MYSQL_PORT=3306

# ===== Redis 配置 =====
REDIS_PASSWORD=CHANGE_ME_Redis@2024!
REDIS_PORT=6379

# ===== JWT 配置 =====
# JWT 密钥（至少32字符，使用强随机字符串）
# 生成命令: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_JWT_SECRET_AT_LEAST_32_CHARS!

# JWT 过期时间（小时）
JWT_EXPIRE_HOURS=24

# ===== 安全配置 =====
# 服务运行模式: debug / release
SERVER_MODE=release

# 是否启用 HTTPS
TLS_ENABLED=false

# ===== 管理员配置 =====
# 初始管理员邮箱
ADMIN_EMAIL=admin@example.com

# 初始管理员密码（首次登录后请立即修改！）
ADMIN_PASSWORD=Admin@123456

# ===== 邮件配置（可选）=====
EMAIL_ENABLED=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@example.com

# ===== 前端配置 =====
# API 地址（Docker 内部使用 /api，外部访问使用实际地址）
VITE_API_URL=/api
